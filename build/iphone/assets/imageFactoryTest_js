!function(){var e=require("ti.imagefactory"),i=Ti.UI.createWindow({backgroundColor:"#ffffff",navBarHidden:!0,exitOnClose:!0}),t=Ti.UI.createView({layout:"vertical"});i.add(t);var a=Ti.UI.createView({left:20,right:20,top:20,height:Ti.UI.SIZE,layout:"horizontal"});t.add(a);var r=Ti.UI.createButton({title:"Camera",left:0,height:50});a.add(r);var o=Ti.UI.createButton({title:"Gallery",left:20,height:50});a.add(o);var l=Ti.Platform.displayCaps.platformWidth,d=Ti.UI.createView({top:20,width:l-40,height:l-40,layout:"absolute",backgroundColor:"#ccc"});t.add(d);var h=null,c=function(){Ti.Media.openPhotoGallery({mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO],success:function(e){alert("image width: "+e.width+" height: "+e.height),s(e.media,e.width,e.height)}})},n=function(){Ti.Media.showCamera({mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO],success:function(e){alert("image width: "+e.width+" height: "+e.height),s(e.media,e.width,e.height)}})},s=function(i,t,a){h&&(d.remove(h),h=null);var r=1;r=a>t?Ti.Platform.displayCaps.platformWidth/t:Ti.Platform.displayCaps.platformHeight/a;var o=Ti.UI.createImageView({image:i,width:t*r,height:a*r});i=o.toBlob(),i=e.imageAsThumbnail(i,{size:300,border:0}),h=Ti.UI.createImageView({image:i,width:i.width,height:i.height}),d.add(h)};r.addEventListener("click",n),o.addEventListener("click",c),i.open()}();